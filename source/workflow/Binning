binningfiles = []

if config["maxbin"]:
    binningfiles+=expand(opj(config["results_path"],"maxbin","bin","{assembly}","{assembly}.summary"),
        assembly = assemblyGroups.keys())
if config["concoct"]:
    binningfiles+=expand(opj(config["results_path"],"concoct","bin","{assembly}","fasta","done"),
        assembly = assemblyGroups.keys())

include: "../rules/Binning/coverage.rules"
include: "../rules/Binning/binning.rules"

rule binning_done:
    input:
        binningfiles
    output:
        temp(touch(opj(config["results_path"],"progress","binning.done")))